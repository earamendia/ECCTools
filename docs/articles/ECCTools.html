<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get started • ECCTools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Get started">
<meta property="og:description" content="ECCTools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ECCTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/ECCTools.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/balancing_matrix.html">Using the balancing matrix</a>
    </li>
    <li>
      <a href="../articles/transform_to_bta.html">Bilateral Trade Assumption</a>
    </li>
    <li>
      <a href="../articles/transform_to_dta.html">Domestic Technology Assumption</a>
    </li>
    <li>
      <a href="../articles/transform_to_gma.html">Global Market Assumption</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get started</h1>
                        <h4 data-toc-skip class="author">Emmanuel Aramendia</h4>
            
            <h4 data-toc-skip class="date">2023-05-03</h4>
      
      
      <div class="hidden name"><code>ECCTools.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>R</code> package <code>ECCTools</code> provides tools to modify an Energy Conversion Chain (ECC) that has been previously loaded using the <code>R</code> package <code>IEATools</code>. The <code>IEATools</code> package helps to load IEA data as well as to sort and prepare IEA data to formulate a Physical Supply Use Table framework (PSUT, see <span class="citation">Heun, Owen, and Brockway (2018)</span>). However, the <code>IEATools</code> package treats imports as a supplying industry, and to this extent, adopts what we refer here to as the Free Imports Assumption: imports come for free, with no upstream associated conversion chain (and hence, neither associated environmental burden nor embodied energy consumption).</p>
<p>The <code>ECCTools</code> package enables analysts to overcome this limitation through two different options:</p>
<ol style="list-style-type: decimal">
<li>The formulation of a Multi-Regional Physical Supply Use Table (MR-PSUT) framework (see <span class="citation">Aramendia et al. (2022)</span>) representing the Energy Conversion Chain. In this case, imports are treated as supply coming from an industry located in a different region. This option is the most realistic one.</li>
<li>The formulation of a PSUT framework following the Domestic Technology Assumption (DTA). The DTA assumes that imports are produced within the region that imports them. Although the DTA is not a realistic assumption, it enables analysts to conduct useful simulations.</li>
</ol>
<div class="section level3">
<h3 id="design-philosophy">Design philosophy<a class="anchor" aria-label="anchor" href="#design-philosophy"></a>
</h3>
<p>The package has been designed to be used as follows.</p>
<ol style="list-style-type: decimal">
<li>First, the IEA data needs to be loaded as usually done with the <code>IEATools</code> package. See the <a href="https://matthewheun.github.io/IEATools/" class="external-link">IEATools</a> package documentation.</li>
<li>Second, specific flows may be modified, for instance, to aggregate regions, to locate flows in a different PSUT matrix (in particular, to the newly introduced <em>balancing</em> matrix), or to perform any other modification.</li>
<li>Third, the overarching assumption of the PSUT may be modified, using one of the <code><a href="../reference/transform_to_dta.html">transform_to_dta()</a></code>, <code><a href="../reference/transform_to_gma.html">transform_to_gma()</a></code>, or <code><a href="../reference/transform_to_bta.html">transform_to_bta()</a></code> functions.</li>
<li>Fourth, the actual PSUT matrices may be formulated using the <code>prep_psut()</code> function of the <code>IEATools</code> package.</li>
</ol>
<p>Subsequent Energy Conversion Chain analysis can be conducted using the <code>Recca</code> package. See the <a href="https://matthewheun.github.io/Recca/" class="external-link">Recca</a> package documentation.</p>
</div>
<div class="section level3">
<h3 id="available-vignettes">Available vignettes<a class="anchor" aria-label="anchor" href="#available-vignettes"></a>
</h3>
<p>The vignettes available for this package detail how to conduct the following tasks:</p>
<ol style="list-style-type: decimal">
<li>
<a href="balancing_matrix.html">Using the balancing matrix</a>: Shows how to relocate flows into the newly defined balancing matrix <strong>B</strong> and what the downstream consequences are.</li>
<li>
<a href="transform_to_dta.html">Domestic Technology Assumption</a>: Shows how to formulate the Domestic Technology Assumption and which conditions need to be fulfilled to formulate such an assumption.</li>
<li>
<a href="transform_to_gma.html">Global Market Assumption</a>: Shows how to formulate the Global Market Assumption.</li>
<li>
<a href="transform_to_bta.html">Bilateral Trade Assumption</a>: Shows how to provide bilateral trade data to formulate the Bilateral Trade Assumption.</li>
</ol>
</div>
<div class="section level3">
<h3 id="demonstration-example-the-ab-world">Demonstration example: the AB world<a class="anchor" aria-label="anchor" href="#demonstration-example-the-ab-world"></a>
</h3>
<p>To illustrate how to use the package, we introduce a fictitious world consisting of two countries (A and B): welcome to the AB world!</p>
<div class="section level4">
<h4 id="country-a">Country A<a class="anchor" aria-label="anchor" href="#country-a"></a>
</h4>
<p>The Energy Conversion Chain of country A is shown in the figure below:</p>
<p><img src="figs/Country_A_ECC.png"></p>
<p>As can be seen, the country A:</p>
<ul>
<li>Exports coal, crude oil, and natural gas to the rest of the world (so, to country B);</li>
<li>Imports coke oven coke from the rest of the world (so, from country B);</li>
<li>Presents a balanced Energy Conversion Chain (supply = consumption).</li>
</ul>
</div>
<div class="section level4">
<h4 id="country-b">Country B<a class="anchor" aria-label="anchor" href="#country-b"></a>
</h4>
<p>Next figure shows the Energy Conversion Chain of country B.</p>
<p><img src="figs/Country_B_ECC.png"></p>
<p>As can be seen, country B:</p>
<ul>
<li>Exports coke oven coke to the rest of the world (so, to country A);</li>
<li>Imports coal, crude oil, and natural gas from the rest of the world (so, from country A);</li>
<li>Presents a balanced Energy Conversion Chain (supply = consumption).</li>
</ul>
</div>
<div class="section level4">
<h4 id="tidy-ab-data">Tidy AB data<a class="anchor" aria-label="anchor" href="#tidy-ab-data"></a>
</h4>
<p>Let’s now have a look to the AB data organised in a <code>.tidy_iea_df</code> as provided by the <code>IEATools</code> package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fix product-level balances within each country</span></span>
<span><span class="va">tidy_AB_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 102</span></span>
<span><span class="co">#&gt; Columns: 11</span></span>
<span><span class="co">#&gt; $ Country                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "A", "A", "A", "A", "A", "A", "A", "A", "A", "A…</span></span>
<span><span class="co">#&gt; $ Method                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "PCM", "PCM", "PCM", "PCM", "PCM", "PCM", "PCM"…</span></span>
<span><span class="co">#&gt; $ Energy.type            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "E", "E", "E", "E", "E", "E", "E", "E", "E", "E…</span></span>
<span><span class="co">#&gt; $ Last.stage             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Final", "Final", "Final", "Final", "Final", "F…</span></span>
<span><span class="co">#&gt; $ Year                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2018, 2018, 2018, 2018, 2018, 2018, 2018, 2018,…</span></span>
<span><span class="co">#&gt; $ Ledger.side            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Consumption", "Consumption", "Consumption", "C…</span></span>
<span><span class="co">#&gt; $ Flow.aggregation.point <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Industry", "Industry", "Industry", "Industry",…</span></span>
<span><span class="co">#&gt; $ Flow                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Iron and steel", "Iron and steel", "Iron and s…</span></span>
<span><span class="co">#&gt; $ Product                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Blast furnace gas", "Electricity", "Heat", "Ke…</span></span>
<span><span class="co">#&gt; $ Unit                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "ktoe", "ktoe", "ktoe", "ktoe", "ktoe", "ktoe",…</span></span>
<span><span class="co">#&gt; $ E.dot                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 500, 2920, 50, 1750, 500, 365, 200, 120, 700, 2…</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="global-unbalances">Global unbalances<a class="anchor" aria-label="anchor" href="#global-unbalances"></a>
</h4>
<p>So far so good. However, we note that although each domestic Energy Conversion Chain is balanced (supply = consumption), the global Energy Conversion Chain resulting from the addition of both domestic Energy Conversion Chains is not. Indeed:</p>
<ul>
<li>Country A imports 600 ktoe of coke oven coke from the rest of the world, but country B (i.e. the rest of the world) only exports 400 ktoe! The world is in deficit of 200 ktoe. Where do they come from?</li>
<li>Country B imports 3000 ktoe of crude oil from the rest of the world, but country A (i.e. the rest of the world) exports 3500 ktoe of crude oil. The world has a surplus of 500 ktoe of crude oil. Where is that energy going to?</li>
</ul>
<p>The fact that these Energy Conversion Chains, when taken together, are unbalanced, is an attempt to represent faithfully the features of IEA data. Indeed, this type of unbalances appear when trying to build a global Energy Conversion Chain from IEA data. Our AB world example will therefore show how such inconsistencies are dealt with when working with real IEA data.</p>
<p>Now, some guesses about why such inconsistencies may appear in IEA data:</p>
<ul>
<li>Incomplete world coverage. Some countries are not covered in IEA data. When these countries trade energy products with other countries, then that trade has to translate into a sink or source of energy products (provided the partner countries are covered in the IEA data), and hence in unbalances.</li>
<li>Inconsistencies in national reporting of energy use. Indeed, energy consumption and production may be informal in many cases, and national statistical agencies may only be able to provide the IEA with best guess estimates. Such estimates allow for national Energy Conversion Chains to be balanced, but if the traded energy figures are not accurate, the incorrect estimates will translate into an energy product sink or source at the world level.</li>
<li>Differences in energy products classification and naming between countries may also lead to discrepancies in the global figures of imported and exported figures. We note however that the IEA attempts to standardise the naming convention, but such errors remain likely, on a small scale.</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-mr_psut_paper" class="csl-entry">
Aramendia, Emmanuel, Matthew Heun, Paul Brockway, and Peter Taylor. 2022. <span>“Developing a Multi-Regional Physical Supply Use Table Framework to Improve the Accuracy and Reliability of Energy Analysis.”</span> <em>Applied Energy</em>. <a href="https://doi.org/10.1016/j.apenergy.2021.118413" class="external-link">https://doi.org/10.1016/j.apenergy.2021.118413</a>.
</div>
<div id="ref-Heun:2018" class="csl-entry">
Heun, Matthew Kuperus, Anne Owen, and Paul E. Brockway. 2018. <span>“A Physical Supply-Use Table Framework for Energy Analysis on the Energy Conversion Chain.”</span> <em>Applied Energy</em> 226 (September): 1134–62. <a href="https://doi.org/10.1016/j.apenergy.2018.05.109" class="external-link">https://doi.org/10.1016/j.apenergy.2018.05.109</a>.
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Emmanuel Aramendia, Matthew Heun.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
